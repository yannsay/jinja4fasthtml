[
  {
    "objectID": "00_core.html",
    "href": "00_core.html",
    "title": "core",
    "section": "",
    "text": "I wanted to use Jinja templates with FastHTML to separate front-end and back-end concerns, but this wasn’t directly supported. So I created fastjinja to bridge that gap.\nI have explored how I could get Jinja templates how to fit into the literrate programing with notebook, FastHTML and re-iterating rapidly within the notebook. I present you fastjinja.\nWhen skiming throught hypermedia.systems, I was also very glad to see they are using jinja! Maybe next step will be re-writing hypermedia system with fasthtml and jinja.",
    "crumbs": [
      "core"
    ]
  },
  {
    "objectID": "00_core.html#writing-jinja-from-notebook",
    "href": "00_core.html#writing-jinja-from-notebook",
    "title": "core",
    "section": "Writing Jinja from notebook",
    "text": "Writing Jinja from notebook\nTemplate from jinja2 conflict with another Template. That’s why I import jinja2 as jinja2\n\napp = FastHTML()\nrt = app.route\n\n\njinja_template = \"\"\"&lt;div&gt; {{ name }} &lt;/div&gt;\n\"\"\"\njinja_template\n\n'&lt;div&gt; {{ name }} &lt;/div&gt;\\n'\n\n\n\ntemplate = jinja2.Template(jinja_template)\ntemplate\n\n&lt;Template memory:7b0e377075c0&gt;\n\n\n\ntemplate.render(name=\"Yann\")\n\n'&lt;div&gt; Yann &lt;/div&gt;'\n\n\n\n@rt\ndef jinja_ex(name):\n    return template.render(name=name)\n\njinja_ex(name=\"Yann\")\n\n'&lt;div&gt; Yann &lt;/div&gt;'\n\n\n\njinja_template2 = \"\"\"&lt;ul&gt;\n  {% for user in users %}\n    &lt;li&gt;&lt;a href=\"{{ user.url }}\"&gt;{{ user.username }}&lt;/a&gt;&lt;/li&gt;\n  {% endfor %}\n  &lt;/ul&gt;\n\"\"\"\njinja_template2\n\n'&lt;ul&gt;\\n  {% for user in users %}\\n    &lt;li&gt;&lt;a href=\"{{ user.url }}\"&gt;{{ user.username }}&lt;/a&gt;&lt;/li&gt;\\n  {% endfor %}\\n  &lt;/ul&gt;\\n'\n\n\n\ntemplate2 = jinja2.Template(jinja_template2)\ntemplate2\n\n&lt;Template memory:7b0e382e2ab0&gt;\n\n\n\nusers_ex = [{\"username\":\"Yann\", \"url\":\"yann@yann.yann\"}, {\"username\":\"Pierre\", \"url\":\"pierre@pierre.pierre\"}]\nusers_ex\n\n[{'username': 'Yann', 'url': 'yann@yann.yann'},\n {'username': 'Pierre', 'url': 'pierre@pierre.pierre'}]\n\n\n\n@rt\ndef jinja_ex2(users):\n    return template2.render(users=users)\n\njinja_ex2(users=users_ex)\n\n'&lt;ul&gt;\\n  \\n    &lt;li&gt;&lt;a href=\"yann@yann.yann\"&gt;Yann&lt;/a&gt;&lt;/li&gt;\\n  \\n    &lt;li&gt;&lt;a href=\"pierre@pierre.pierre\"&gt;Pierre&lt;/a&gt;&lt;/li&gt;\\n  \\n  &lt;/ul&gt;'\n\n\n\nConverting Jinja to FastHTML\n\ndef get_preview(app):\n    return partial(HTMX, app=app, host=None, port=None)\npreview = get_preview(app)\n\n\nc = Div(P('hi'), style='color:red')\nprint(c)\n\n&lt;div style=\"color:red\"&gt;&lt;p&gt;hi&lt;/p&gt;&lt;/div&gt;\n\n\n\npreview(c)\n\n \n\n\n\ntype(c)\n\nfastcore.xml.FT\n\n\n\nc.__dict__\n\n{'tag': 'div',\n 'children': (p(('hi',),{}),),\n 'attrs': {'style': 'color:red'},\n 'void_': False,\n 'listeners_': []}\n\n\n\njt = \"\"\"&lt;div style=\"color:red\"&gt;&lt;p&gt;hi&lt;/p&gt;&lt;/div&gt;\"\"\"\n\n\ntemplate = jinja2.Template(jt)\n\n\ntemplate.render()\n\n'&lt;div style=\"color:red\"&gt;&lt;p&gt;hi&lt;/p&gt;&lt;/div&gt;'\n\n\n\npreview(template.render())\n\n&lt;p&gt;hi&lt;/p&gt;&lt;/div&gt;\" style=\"width: 100%; height: auto; border: none;\" onload=\"{\n        let frame = this;\n        window.addEventListener('message', function(e) {\n            if (e.source !== frame.contentWindow) return; // Only proceed if the message is from this iframe\n            if (e.data.height) frame.style.height = (e.data.height+1) + 'px';\n        }, false);\n    }\" allow=\"accelerometer; autoplay; camera; clipboard-read; clipboard-write; display-capture; encrypted-media; fullscreen; gamepad; geolocation; gyroscope; hid; identity-credentials-get; idle-detection; magnetometer; microphone; midi; payment; picture-in-picture; publickey-credentials-get; screen-wake-lock; serial; usb; web-share; xr-spatial-tracking\"&gt; \n\n\n\ntype(template.render())\n\nstr\n\n\nI need to create the same fastcore.xml.FT element using the ft function and bs4\n\n\n\nparse_html_to_ft\n\ndef parse_html_to_ft(\n    html_str:str\n):\n\nParse html to fastcore.xml\n\nft_template = parse_html_to_ft(template.render())\nft_template\n\n&lt;div style=\"color:red\"&gt;\n  &lt;p&gt;hi&lt;/p&gt;\n&lt;/div&gt;\n\n\n\npreview(ft_template)\n\n \n\n\n\ntype(ft_template)\n\nfastcore.xml.FT\n\n\n\nft_template.__dict__\n\n{'tag': 'div',\n 'children': (p(('hi',),{}),),\n 'attrs': {'style': 'color:red'},\n 'void_': False,\n 'listeners_': []}\n\n\nNow I can patch the jinja2.Template to have a module for fasthtml\n\n\n\nTemplate.ft_render\n\ndef ft_render(\n    args:VAR_POSITIONAL, kargs:VAR_KEYWORD\n):\n\nparse html to fastcore.xml.ft and render\nI am checking with my previous example also.\n\npreview(template.ft_render())\n\n \n\n\n\njinja_template = \"\"\"&lt;div&gt; {{ name }} &lt;/div&gt;\n\"\"\"\njinja_template\n\n'&lt;div&gt; {{ name }} &lt;/div&gt;\\n'\n\n\n\ntemplate = jinja2.Template(jinja_template)\ntemplate\n\n&lt;Template memory:7b0e36d15520&gt;\n\n\n\npreview(template.render(name=\"Yann\"))\n\n \n\n\n\npreview(template.ft_render(name=\"Yann\"))",
    "crumbs": [
      "core"
    ]
  },
  {
    "objectID": "00_core.html#reproducing-testing",
    "href": "00_core.html#reproducing-testing",
    "title": "core",
    "section": "Reproducing (testing?)",
    "text": "Reproducing (testing?)\n\nWriting SolveIt in SolveIt with Jinja\nI will test some the first steps of lesson 4\n\nInteractivity\n\nfrom fastcore.utils import *\nfrom fasthtml.common import *\nfrom fasthtml.jupyter import *\nimport fasthtml.components as fc\nimport httpx\n\n\ndaisy_hdrs = (\n    Link(href='https://cdn.jsdelivr.net/npm/daisyui@5', rel='stylesheet', type='text/css'),\n    Script(src='https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4'),\n    Link(href='https://cdn.jsdelivr.net/npm/daisyui@5/themes.css', rel='stylesheet', type='text/css')\n)\n\n\napp = FastHTML(hdrs=daisy_hdrs)\nrt = app.route\n\n\ndef get_preview(app):\n    return partial(HTMX, app=app, host=None, port=None)\npreview = get_preview(app)\n\n\n@rt\ndef proc_btn(): return f'hi'\n\n@rt\ndef testbtn():\n    return Div(\n        Button('click me', hx_post=proc_btn, id='btn', hx_target='#test', cls='btn'),\n        Div(id='test')\n    )\n\n\npreview(testbtn())\n\n \n\n\nTip: There is https://h2f.answer.ai/ to convert html to fasthtml. To convert fasthml to html just run the code and copy. It will not work for everything but that’s a good start.\n\nDiv(\n        Button('click me', hx_post=proc_btn, id='btn', hx_target='#test', cls='btn'),\n        Div(id='test')\n    )\n\n&lt;div&gt;\n&lt;button hx-post=\"/proc_btn\" hx-target=\"#test\" id=\"btn\" class=\"btn\" name=\"btn\"&gt;click me&lt;/button&gt;  &lt;div id=\"test\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n\n\ntestbtn_template = jinja2.Template(\"\"\"&lt;div&gt;\n&lt;button hx-post=\"/proc_btn\" hx-target=\"#test\" id=\"btn\" class=\"btn\" name=\"btn\"&gt;click me&lt;/button&gt;  &lt;div id=\"test\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\"\"\")\ntestbtn_template\n\n&lt;Template memory:7b0e35b2f140&gt;\n\n\n\n@rt\ndef testbtn_jinja():\n    return testbtn_template.ft_render()\n\n\npreview(testbtn_jinja())\n\n \n\n\n\n\nGetting data in a route\n\n@rt\ndef getinp(): return Input(type='text', placeholder='Type here')\n\n\npreview(getinp)\n\n \n\n\n\ngetinp_template = jinja2.Template(\"&lt;input type='text' placeholder='Type here'&gt;\")\n\n\n@rt\ndef getinp_jinja():\n    return getinp_template.ft_render()\n\n\npreview(getinp_jinja())\n\n \n\n\n\ndef mk_comp(name, compcls):\n    comp = getattr(fc, name)\n    def wrapper(*args, cls='', **kwargs): return comp(*args, cls=f'{compcls} {cls}', **kwargs)\n    globals()[name] = wrapper\n\n\nmk_comp('Button', 'btn')\nmk_comp('Input', 'input')\n\n\n@rt\ndef proc_inp(inp:str): return f'hi {inp}'\n\n@rt\ndef testinp():\n    return Form(hx_post=proc_inp, hx_target='#test')(\n        Input(type='text', placeholder='Type here', id='inp'),\n        Button('say hi', type='submit'),\n        Div(id='test')\n    )\n\n\npreview(testinp())\n\n \n\n\n\nform_jinja = jinja2.Template('''&lt;form enctype=\"multipart/form-data\" hx-post=\"/proc_inp\" hx-target=\"#test\"&gt;  &lt;input type=\"text\" placeholder=\"Type here\" id=\"inp\" class=\"input \" name=\"inp\"&gt;\n&lt;button type=\"submit\" class=\"btn \"&gt;say hi&lt;/button&gt;  &lt;div id=\"test\"&gt;&lt;/div&gt;\n&lt;/form&gt;''')\n\n\n@rt\ndef testinp_jinja():\n    return form_jinja.ft_render()\n\n\npreview(testinp_jinja())\n\n \n\n\n\ndef nameinp(oob=False):\n    kw = dict(hx_swap_oob='true') if oob else {}\n    return Input(type='text', placeholder='Type here', id='inp', **kw)\n\n@rt\ndef proc_inp(inp:str): \n    return P(f'hi {inp}'), nameinp(True)\n\n@rt\ndef testinp():\n    return Form(hx_post=proc_inp, hx_target='#test', hx_swap='afterbegin')(\n        nameinp(),\n        Button('say hi', type='submit'),\n        Div(id='test')\n    )\n\n\npreview(testinp())\n\n \n\n\n\ndef nameinp_jinja(oob=False):\n    kw = dict(hx_swap_oob='true') if oob else {}\n    return jinja2.Template('''\n    &lt;input type=\"text\" placeholder=\"Type here\" id=\"inp\" class=\"input\" name=\"inp\" {% for key, value in kw.items() %}{{key}}=\"{{value}}\"{% endfor %}&gt;\n''').ft_render(kw=kw)\n\n@rt\ndef proc_inp_jinja(inp:str): \n    return jinja2.Template(\"&lt;p&gt; hi {{inp}}\").ft_render(inp = inp), nameinp_jinja(True)\n\n@rt\ndef testinp_jinja():\n    return jinja2.Template('''&lt;form enctype=\"multipart/form-data\" hx-post=\"/proc_inp_jinja\" hx-target=\"#test\", hx_swap=\"afterbegin\"&gt;  &lt;input type=\"text\" placeholder=\"Type here\" id=\"inp\" class=\"input \" name=\"inp\"&gt;\n&lt;button type=\"submit\" class=\"btn \"&gt;say hi&lt;/button&gt;  &lt;div id=\"test\"&gt;&lt;/div&gt;\n&lt;/form&gt;''').ft_render()\n\n\npreview(testinp_jinja())\n\n \n\n\n\n\n\nJinja style\nI will now try how I use Jinja with FastHTML, reading a file and checking inheritance.\n\nFrom a file\n\njinja_template = \"\"\"&lt;div&gt; {{ name }} &lt;/div&gt;\n\"\"\"\njinja_template\n\n'&lt;div&gt; {{ name }} &lt;/div&gt;\\n'\n\n\n\n\n\nmkdir: cannot create directory ‘templates’: File exists\n\n\n\nwith open(\"templates/example.html\", \"w\") as f:\n    f.write(jinja_template)\n\n\n\n\nexample.html\n\n\nI need to load the files from the environment\n\nenv = jinja2.Environment(loader=jinja2.FileSystemLoader('templates'))\n\n\ntemplate_from_file = env.get_template('example.html')\ntemplate_from_file\n\n&lt;Template 'example.html'&gt;\n\n\n\n@rt\ndef example_from_file(name):\n    return template_from_file.ft_render(name=name)\n\n\npreview(example_from_file(name=\"Yann\"))\n\n \n\n\n\n\nInheritance\nTo correctly load the jinja templates, they should be in the environment, so jinja knows what template exits.\nIn addition to load by folder, I am adding a DictLoader.\n\nparent = \"\"\"&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    {% block head %}\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\n    {% endblock %}\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\n    &lt;div id=\"footer\"&gt;\n        {% block footer %}\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\n        {% endblock %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\"\"\"\n\n\nchild = \"\"\"{% extends \"parent.html\" %}\n{% block title %}Index{% endblock %}\n{% block head %}\n    {{ super() }}\n    &lt;style type=\"text/css\"&gt;\n        .important { color: #336699; }\n    &lt;/style&gt;\n{% endblock %}\n{% block content %}\n    &lt;h1&gt;Index&lt;/h1&gt;\n    &lt;p class=\"important\"&gt;\n      Welcome to my awesome homepage.\n    &lt;/p&gt;\n{% endblock %}\n\"\"\"\n\n\ntemplates_dict={}\n\nenv = jinja2.Environment(loader=jinja2.ChoiceLoader([\n    jinja2.DictLoader(templates_dict),\n    jinja2.FileSystemLoader('templates')\n]))\n\n\ntemplates_dict[\"parent.html\"]=parent\ntemplates_dict\n\n{'parent.html': '&lt;!DOCTYPE html&gt;\\n&lt;html lang=\"en\"&gt;\\n&lt;head&gt;\\n    {% block head %}\\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\\n    {% endblock %}\\n&lt;/head&gt;\\n&lt;body&gt;\\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\\n    &lt;div id=\"footer\"&gt;\\n        {% block footer %}\\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\\n        {% endblock %}\\n    &lt;/div&gt;\\n&lt;/body&gt;\\n&lt;/html&gt;\\n'}\n\n\n\nparent_tp = env.get_template('parent.html')\nparent_tp.ft_render()\n\n&lt;html lang=\"en\"&gt;\n\n  &lt;head&gt;\n\n    &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;&lt;/link&gt;\n\n    &lt;title&gt; - My Webpage&lt;/title&gt;\n\n  &lt;/head&gt;\n\n  &lt;body&gt;\n\n    &lt;div id=\"content\"&gt;&lt;/div&gt;\n\n    &lt;div id=\"footer\"&gt;\n\n        \n        © Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\n        \n        &lt;/div&gt;\n\n  &lt;/body&gt;\n\n&lt;/html&gt;\n\n\n\npreview(parent_tp.ft_render())\n\n \n\n\n\ntemplates_dict['child.html'] = child\n\n\nchild_tp = env.get_template('child.html')\nchild_tp.ft_render()\n\n&lt;html lang=\"en\"&gt;\n\n  &lt;head&gt;\n\n    &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;&lt;/link&gt;\n\n    &lt;title&gt;Index - My Webpage&lt;/title&gt;\n\n    &lt;style type=\"text/css\"&gt;\n        .important { color: #336699; }\n    &lt;/style&gt;\n\n  &lt;/head&gt;\n\n  &lt;body&gt;\n\n    &lt;div id=\"content\"&gt;\n\n      &lt;h1&gt;Index&lt;/h1&gt;\n\n      &lt;p class=\"important\"&gt;\n      Welcome to my awesome homepage.\n    &lt;/p&gt;\n\n    &lt;/div&gt;\n\n    &lt;div id=\"footer\"&gt;\n\n        \n        © Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\n        \n        &lt;/div&gt;\n\n  &lt;/body&gt;\n\n&lt;/html&gt;\n\n\n\n@rt\ndef child():\n    return child_tp.ft_render()\n\n\npreview(child())\n\n \n\n\n\n\nCorrectly importing templates from code for inheritance\n\n\n\n\nadd_template_from_code\n\ndef add_template_from_code(\n    templates_dict:dict, code:str, filename:str, env\n):\n\nCorrect way to add a Jinja template to get inheritance",
    "crumbs": [
      "core"
    ]
  },
  {
    "objectID": "known_errors.html",
    "href": "known_errors.html",
    "title": "Some erros to be carefull",
    "section": "",
    "text": "When using ft_render(), ensure your template has a single root element. If your template generates multiple root elements (e.g., in a loop), wrap them in a container element.\nWhy? ft_render() uses parse_html_to_ft() which parses HTML and returns a single FT object. Multiple root elements will result in only the first element being returned.\nSolution: Wrap your content in a &lt;div&gt; or other container element.\n\n# Example: ft_render() with multiple root elements\n\n# ❌ This won't work - only returns first element\ntemplate_bad = \"\"\"\n{% for item in items %}\n&lt;div&gt;{{ item }}&lt;/div&gt;\n{% endfor %}\n\"\"\"\n\n# ✅ This works - wrap in a container\ntemplate_good = \"\"\"\n&lt;div&gt;\n{% for item in items %}\n&lt;div&gt;{{ item }}&lt;/div&gt;\n{% endfor %}\n&lt;/div&gt;\n\"\"\"",
    "crumbs": [
      "Some erros to be carefull"
    ]
  },
  {
    "objectID": "known_errors.html#important-multiple-root-elements",
    "href": "known_errors.html#important-multiple-root-elements",
    "title": "Some erros to be carefull",
    "section": "",
    "text": "When using ft_render(), ensure your template has a single root element. If your template generates multiple root elements (e.g., in a loop), wrap them in a container element.\nWhy? ft_render() uses parse_html_to_ft() which parses HTML and returns a single FT object. Multiple root elements will result in only the first element being returned.\nSolution: Wrap your content in a &lt;div&gt; or other container element.\n\n# Example: ft_render() with multiple root elements\n\n# ❌ This won't work - only returns first element\ntemplate_bad = \"\"\"\n{% for item in items %}\n&lt;div&gt;{{ item }}&lt;/div&gt;\n{% endfor %}\n\"\"\"\n\n# ✅ This works - wrap in a container\ntemplate_good = \"\"\"\n&lt;div&gt;\n{% for item in items %}\n&lt;div&gt;{{ item }}&lt;/div&gt;\n{% endfor %}\n&lt;/div&gt;\n\"\"\"",
    "crumbs": [
      "Some erros to be carefull"
    ]
  },
  {
    "objectID": "known_errors.html#comments-in-templates",
    "href": "known_errors.html#comments-in-templates",
    "title": "Some erros to be carefull",
    "section": "comments in templates",
    "text": "comments in templates\nThe issue is with how ft_render() works. It’s designed to convert Jinja templates into FastHTML’s FT (FastTag) components, not just return raw HTML strings.\nWhen ft_render() parses your HTML template, it processes the HTML tags and converts them to Python objects. During this conversion process, HTML comments () are treated as content that doesn’t map to any valid HTML element, so they get stripped out or rendered as plain text.\n\nimport jinja2 as jinja2\nfrom jinja4fasthtml import *\n\n\n# Create a simple template with comments\ntest_template = \"\"\"\n&lt;div&gt;\n    &lt;!-- This is a comment --&gt;\n    &lt;p&gt;Hello World&lt;/p&gt;\n    &lt;!-- Another comment --&gt;\n&lt;/div&gt;\n\"\"\"\n\n# Set up the environment\ntemplates_dict = {\"test.html\": test_template}\nenv = jinja2.Environment(loader=jinja2.DictLoader(templates_dict))\ntp = env.get_template(\"test.html\")\n\n\n# Render with ft_render and print\nresult = tp.ft_render()\nprint(result)\n\n&lt;div&gt;\n This is a comment \n&lt;p&gt;Hello World&lt;/p&gt;\n Another comment \n&lt;/div&gt;",
    "crumbs": [
      "Some erros to be carefull"
    ]
  },
  {
    "objectID": "solveit_export.html",
    "href": "solveit_export.html",
    "title": "jinja4fasthtml",
    "section": "",
    "text": "All of this would not be worth if I could not export templates as I can export with nbdev.\nMy current hack is to have a tag #| exportjinja namefile.html and use find_msgs from dialoghelper to find those\n\nparent = \"\"\"&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    {% block head %}\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\n    {% endblock %}\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\n    &lt;div id=\"footer\"&gt;\n        {% block footer %}\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\n        {% endblock %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\"\"\"\n\n\nx = find_msgs(re_pattern=\"#\\\\| exportjinja\", msg_type=\"code\")[0][\"content\"]\nx\n\n'#| exportjinja parent.html\\nparent = \"\"\"&lt;!DOCTYPE html&gt;\\n&lt;html lang=\"en\"&gt;\\n&lt;head&gt;\\n    {% block head %}\\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\\n    {% endblock %}\\n&lt;/head&gt;\\n&lt;body&gt;\\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\\n    &lt;div id=\"footer\"&gt;\\n        {% block footer %}\\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\\n        {% endblock %}\\n    &lt;/div&gt;\\n&lt;/body&gt;\\n&lt;/html&gt;\\n\"\"\"'\n\n\n\nfirst_line = x.split('\\n')[0]\nfile_name = first_line.split(\"exportjinja\")[-1].strip()\nfile_name\n\n'parent.html'\n\n\n\ncontent = x.split('\"\"\"')[1]\ncontent\n\n'&lt;!DOCTYPE html&gt;\\n&lt;html lang=\"en\"&gt;\\n&lt;head&gt;\\n    {% block head %}\\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\\n    {% endblock %}\\n&lt;/head&gt;\\n&lt;body&gt;\\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\\n    &lt;div id=\"footer\"&gt;\\n        {% block footer %}\\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\\n        {% endblock %}\\n    &lt;/div&gt;\\n&lt;/body&gt;\\n&lt;/html&gt;\\n'\n\n\n\nwith open(f\"templates/{file_name}\", \"w\") as f:\n        f.write(content)\n\n\n\n\nexample.html  parent.html\n\n\n\n\n\n\ndef export_jinja_template(\n    cell:str, templates_folder:str='templates'\n):\n\nExport single cell\n\n\n\nexample.html\n\n\n\nexport_jinja_template(x)\n\n\n\n\nexample.html  parent.html\n\n\n\n!cat templates/parent.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    {% block head %}\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\n    {% endblock %}\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\n    &lt;div id=\"footer\"&gt;\n        {% block footer %}\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\n        {% endblock %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n\nx = find_msgs(re_pattern=\"#\\\\| exportjinja\", msg_type=\"code\")[0][\"content\"]\nx\n\n'#| exportjinja parent.html\\nparent = \"\"\"&lt;!DOCTYPE html&gt;\\n&lt;html lang=\"en\"&gt;\\n&lt;head&gt;\\n    {% block head %}\\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\\n    {% endblock %}\\n&lt;/head&gt;\\n&lt;body&gt;\\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\\n    &lt;div id=\"footer\"&gt;\\n        {% block footer %}\\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\\n        {% endblock %}\\n    &lt;/div&gt;\\n&lt;/body&gt;\\n&lt;/html&gt;\\n\"\"\"'\n\n\n\n\n\n\n\ndef export_jinja_templates(\n    \n):\n\nExport all jinja template cells\n\nchild = \"\"\"{% extends \"parent.html\" %}\n{% block title %}Index{% endblock %}\n{% block head %}\n    {{ super() }}\n    &lt;style type=\"text/css\"&gt;\n        .important { color: #336699; }\n    &lt;/style&gt;\n{% endblock %}\n{% block content %}\n    &lt;h1&gt;Index&lt;/h1&gt;\n    &lt;p class=\"important\"&gt;\n      Welcome to my awesome homepage.\n    &lt;/p&gt;\n{% endblock %}\n\"\"\"\n\n\n\n\nexample.html\n\n\n\nexport_jinja_templates()\n\n\n\n\nchild.html  example.html  parent.html\n\n\n\n!cat templates/parent.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    {% block head %}\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\n    {% endblock %}\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\n    &lt;div id=\"footer\"&gt;\n        {% block footer %}\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\n        {% endblock %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n\n!cat templates/child.html\n\n{% extends \"parent.html\" %}\n{% block title %}Index{% endblock %}\n{% block head %}\n    {{ super() }}\n    &lt;style type=\"text/css\"&gt;\n        .important { color: #336699; }\n    &lt;/style&gt;\n{% endblock %}\n{% block content %}\n    &lt;h1&gt;Index&lt;/h1&gt;\n    &lt;p class=\"important\"&gt;\n      Welcome to my awesome homepage.\n    &lt;/p&gt;\n{% endblock %}",
    "crumbs": [
      "Exporting templates like nbdev"
    ]
  },
  {
    "objectID": "solveit_export.html#exporting-templates-like-nbdev",
    "href": "solveit_export.html#exporting-templates-like-nbdev",
    "title": "jinja4fasthtml",
    "section": "",
    "text": "All of this would not be worth if I could not export templates as I can export with nbdev.\nMy current hack is to have a tag #| exportjinja namefile.html and use find_msgs from dialoghelper to find those\n\nparent = \"\"\"&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    {% block head %}\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\n    {% endblock %}\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\n    &lt;div id=\"footer\"&gt;\n        {% block footer %}\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\n        {% endblock %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\"\"\"\n\n\nx = find_msgs(re_pattern=\"#\\\\| exportjinja\", msg_type=\"code\")[0][\"content\"]\nx\n\n'#| exportjinja parent.html\\nparent = \"\"\"&lt;!DOCTYPE html&gt;\\n&lt;html lang=\"en\"&gt;\\n&lt;head&gt;\\n    {% block head %}\\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\\n    {% endblock %}\\n&lt;/head&gt;\\n&lt;body&gt;\\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\\n    &lt;div id=\"footer\"&gt;\\n        {% block footer %}\\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\\n        {% endblock %}\\n    &lt;/div&gt;\\n&lt;/body&gt;\\n&lt;/html&gt;\\n\"\"\"'\n\n\n\nfirst_line = x.split('\\n')[0]\nfile_name = first_line.split(\"exportjinja\")[-1].strip()\nfile_name\n\n'parent.html'\n\n\n\ncontent = x.split('\"\"\"')[1]\ncontent\n\n'&lt;!DOCTYPE html&gt;\\n&lt;html lang=\"en\"&gt;\\n&lt;head&gt;\\n    {% block head %}\\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\\n    {% endblock %}\\n&lt;/head&gt;\\n&lt;body&gt;\\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\\n    &lt;div id=\"footer\"&gt;\\n        {% block footer %}\\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\\n        {% endblock %}\\n    &lt;/div&gt;\\n&lt;/body&gt;\\n&lt;/html&gt;\\n'\n\n\n\nwith open(f\"templates/{file_name}\", \"w\") as f:\n        f.write(content)\n\n\n\n\nexample.html  parent.html\n\n\n\n\n\n\ndef export_jinja_template(\n    cell:str, templates_folder:str='templates'\n):\n\nExport single cell\n\n\n\nexample.html\n\n\n\nexport_jinja_template(x)\n\n\n\n\nexample.html  parent.html\n\n\n\n!cat templates/parent.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    {% block head %}\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\n    {% endblock %}\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\n    &lt;div id=\"footer\"&gt;\n        {% block footer %}\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\n        {% endblock %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n\nx = find_msgs(re_pattern=\"#\\\\| exportjinja\", msg_type=\"code\")[0][\"content\"]\nx\n\n'#| exportjinja parent.html\\nparent = \"\"\"&lt;!DOCTYPE html&gt;\\n&lt;html lang=\"en\"&gt;\\n&lt;head&gt;\\n    {% block head %}\\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\\n    {% endblock %}\\n&lt;/head&gt;\\n&lt;body&gt;\\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\\n    &lt;div id=\"footer\"&gt;\\n        {% block footer %}\\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\\n        {% endblock %}\\n    &lt;/div&gt;\\n&lt;/body&gt;\\n&lt;/html&gt;\\n\"\"\"'\n\n\n\n\n\n\n\ndef export_jinja_templates(\n    \n):\n\nExport all jinja template cells\n\nchild = \"\"\"{% extends \"parent.html\" %}\n{% block title %}Index{% endblock %}\n{% block head %}\n    {{ super() }}\n    &lt;style type=\"text/css\"&gt;\n        .important { color: #336699; }\n    &lt;/style&gt;\n{% endblock %}\n{% block content %}\n    &lt;h1&gt;Index&lt;/h1&gt;\n    &lt;p class=\"important\"&gt;\n      Welcome to my awesome homepage.\n    &lt;/p&gt;\n{% endblock %}\n\"\"\"\n\n\n\n\nexample.html\n\n\n\nexport_jinja_templates()\n\n\n\n\nchild.html  example.html  parent.html\n\n\n\n!cat templates/parent.html\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    {% block head %}\n    &lt;link rel=\"stylesheet\" href=\"style.css\" /&gt;\n    &lt;title&gt;{% block title %}{% endblock %} - My Webpage&lt;/title&gt;\n    {% endblock %}\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;div id=\"content\"&gt;{% block content %}{% endblock %}&lt;/div&gt;\n    &lt;div id=\"footer\"&gt;\n        {% block footer %}\n        &copy; Copyright 2008 by &lt;a href=\"http://domain.invalid/\"&gt;you&lt;/a&gt;.\n        {% endblock %}\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n\n\n!cat templates/child.html\n\n{% extends \"parent.html\" %}\n{% block title %}Index{% endblock %}\n{% block head %}\n    {{ super() }}\n    &lt;style type=\"text/css\"&gt;\n        .important { color: #336699; }\n    &lt;/style&gt;\n{% endblock %}\n{% block content %}\n    &lt;h1&gt;Index&lt;/h1&gt;\n    &lt;p class=\"important\"&gt;\n      Welcome to my awesome homepage.\n    &lt;/p&gt;\n{% endblock %}",
    "crumbs": [
      "Exporting templates like nbdev"
    ]
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "jinja4fasthtml",
    "section": "",
    "text": "# make sure jinja4fasthtml package is installed in development mode\n$ pip install -e .\n\n# make changes under nbs/ directory\n# ...\n\n# compile to have changes apply to jinja4fasthtml\n$ nbdev_export && nbdev_clean",
    "crumbs": [
      "jinja4fasthtml"
    ]
  },
  {
    "objectID": "index.html#developer-guide",
    "href": "index.html#developer-guide",
    "title": "jinja4fasthtml",
    "section": "",
    "text": "# make sure jinja4fasthtml package is installed in development mode\n$ pip install -e .\n\n# make changes under nbs/ directory\n# ...\n\n# compile to have changes apply to jinja4fasthtml\n$ nbdev_export && nbdev_clean",
    "crumbs": [
      "jinja4fasthtml"
    ]
  },
  {
    "objectID": "index.html#usage",
    "href": "index.html#usage",
    "title": "jinja4fasthtml",
    "section": "Usage",
    "text": "Usage\n\nInstallation\nInstall latest from the GitHub repository:\n$ pip install git+https://github.com/yannsay/jinja4fasthtml.git\n\n\nDocumentation\nDocumentation can be found hosted on this GitHub repository’s pages.",
    "crumbs": [
      "jinja4fasthtml"
    ]
  },
  {
    "objectID": "index.html#how-to-use",
    "href": "index.html#how-to-use",
    "title": "jinja4fasthtml",
    "section": "How to use",
    "text": "How to use\n\nQuick iterations\n\nfrom fastcore.utils import *\nfrom fasthtml.common import *\nfrom fasthtml.jupyter import *\nimport fasthtml.components as fc\nimport httpx\n\nimport jinja2 as jinja2\nfrom jinja4fasthtml import *\n\n\napp = FastHTML()\nrt = app.route\n\n\ndef get_preview(app):\n    return partial(HTMX, app=app, host=None, port=None)\npreview = get_preview(app)\n\n\njinja_template = \"\"\"&lt;div&gt; {{ name }} &lt;/div&gt;\n\"\"\"\njinja_template\n\n\ntemplate = jinja2.Template(jinja_template)\n\n\npreview(template.ft_render(name=\"Yann\"))",
    "crumbs": [
      "jinja4fasthtml"
    ]
  }
]